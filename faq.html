<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Running Coach - FAQ</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --tg-theme-bg-color: #ffffff;
      --tg-theme-text-color: #000000;
      --tg-theme-hint-color: #999999;
      --tg-theme-link-color: #2678b6;
      --tg-theme-button-color: #2678b6;
      --tg-theme-button-text-color: #ffffff;
      --tg-theme-secondary-bg-color: #f0f0f0;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--tg-theme-secondary-bg-color);
      color: var(--tg-theme-text-color);
      min-height: 100vh;
      padding-bottom: 100px;
    }

    .container {
      max-width: 400px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Back Button */
    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      color: var(--tg-theme-link-color);
      font-size: 14px;
      font-weight: 500;
      text-decoration: none;
      cursor: pointer;
      padding: 4px 0;
      margin-bottom: 8px;
    }

    .back-btn:active {
      opacity: 0.6;
    }

    /* Header */
    .page-header {
      text-align: center;
      padding: 16px 0 24px;
    }

    .page-header h1 {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 6px;
    }

    .page-header .subtitle {
      color: var(--tg-theme-hint-color);
      font-size: 14px;
    }

    /* Category */
    .category {
      margin-bottom: 24px;
    }

    .category-title {
      font-size: 15px;
      font-weight: 700;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .category-title .icon {
      font-size: 16px;
    }

    /* Accordion */
    .faq-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    details {
      background: var(--tg-theme-bg-color);
      box-shadow: 0 1px 3px rgba(0,0,0,0.06);
      border-radius: 12px;
      overflow: hidden;
    }

    summary {
      padding: 14px 16px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      list-style: none;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      -webkit-user-select: none;
      user-select: none;
    }

    summary::-webkit-details-marker { display: none; }

    summary::after {
      content: '+';
      font-size: 18px;
      font-weight: 400;
      color: var(--tg-theme-hint-color);
      flex-shrink: 0;
      transition: transform 0.2s;
    }

    details[open] summary::after {
      content: '-';
    }

    .answer {
      padding: 0 16px 14px;
      font-size: 13px;
      line-height: 1.6;
      color: var(--tg-theme-hint-color);
    }

    .answer a {
      color: var(--tg-theme-link-color);
      text-decoration: none;
    }

    .answer a:active {
      opacity: 0.6;
    }

    .answer p {
      margin-bottom: 8px;
    }

    .answer p:last-child {
      margin-bottom: 0;
    }

    .answer .step-list {
      margin: 8px 0;
      padding-left: 20px;
    }

    .answer .step-list li {
      margin-bottom: 4px;
    }

    .answer .tag-list {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin: 8px 0;
    }

    .answer .tag {
      background: var(--tg-theme-secondary-bg-color);
      border: 1px solid var(--tg-theme-hint-color);
      border-radius: 12px;
      padding: 2px 8px;
      font-size: 11px;
      opacity: 0.9;
    }

    .answer .highlight {
      color: var(--tg-theme-text-color);
      font-weight: 600;
    }

    .answer .inline-link {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      color: var(--tg-theme-link-color);
      font-weight: 500;
    }

    /* CTA */
    .cta {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--tg-theme-bg-color);
      padding: 12px 20px;
      padding-bottom: max(12px, env(safe-area-inset-bottom));
      border-top: 1px solid rgba(0,0,0,0.06);
    }

    .cta-inner {
      max-width: 400px;
      margin: 0 auto;
    }

    .btn-cta {
      display: block;
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      text-align: center;
      background: var(--tg-theme-button-color);
      color: var(--tg-theme-button-text-color);
      transition: opacity 0.2s, transform 0.1s;
    }

    .btn-cta:hover {
      opacity: 0.92;
    }

    .btn-cta:active {
      transform: scale(0.98);
      opacity: 0.85;
    }

    /* Animation */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(16px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate {
      animation: fadeInUp 0.4s ease forwards;
      opacity: 0;
    }

    .animate-d1 { animation-delay: 0.1s; }
    .animate-d2 { animation-delay: 0.2s; }
    .animate-d3 { animation-delay: 0.3s; }
    .animate-d4 { animation-delay: 0.4s; }
    .animate-d5 { animation-delay: 0.5s; }
    .animate-d6 { animation-delay: 0.6s; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Back -->
    <a class="back-btn animate" onclick="closeFaq()">&larr; 돌아가기</a>

    <!-- Header -->
    <div class="page-header animate">
      <h1>자주 묻는 질문</h1>
      <div class="subtitle">궁금한 점이 있으신가요?</div>
    </div>

    <!-- 1. 시작하기 -->
    <div class="category animate animate-d1">
      <div class="category-title"><span class="icon">🏁</span> 시작하기</div>
      <div class="faq-list">
        <details>
          <summary>Running Coach는 무료인가요?</summary>
          <div class="answer">
            <p><span class="highlight">네, 완전 무료입니다.</span></p>
            <p>Running Coach 봇은 무료로 사용할 수 있습니다. 별도 결제나 구독이 필요 없어요.</p>
          </div>
        </details>
        <details>
          <summary>어떤 워치/앱이 지원되나요?</summary>
          <div class="answer">
            <p>대부분의 러닝 기기와 앱이 지원됩니다.</p>
            <p><span class="highlight">지원 기기</span></p>
            <div class="tag-list">
              <span class="tag">Garmin</span>
              <span class="tag">COROS</span>
              <span class="tag">Suunto</span>
              <span class="tag">Polar</span>
              <span class="tag">Amazfit</span>
              <span class="tag">Wahoo</span>
            </div>
            <p><span class="highlight">지원 앱</span></p>
            <div class="tag-list">
              <span class="tag">Zwift</span>
              <span class="tag">TrainingPeaks</span>
            </div>
          </div>
        </details>
      </div>
    </div>

    <!-- 2. 데이터 연동 -->
    <div class="category animate animate-d2">
      <div class="category-title"><span class="icon">🔗</span> 데이터 연동</div>
      <div class="faq-list">
        <details>
          <summary>왜 intervals.icu를 통해 연동하나요?</summary>
          <div class="answer">
            <p>Garmin은 개인용 API를 공식적으로 제공하지 않습니다.</p>
            <p>그래서 <span class="highlight">전 세계 12만명+</span>이 사용하는 무료 러닝 분석 플랫폼 <a href="https://intervals.icu" target="_blank">intervals.icu</a>를 브릿지로 사용합니다. intervals.icu는 Garmin 데이터를 안전하게 가져올 수 있는 검증된 서비스예요.</p>
            <p><span class="highlight">처음 한 번만 연동</span>하면 이후 자동으로 데이터가 동기화됩니다. 언제든지 intervals.icu에서 API 키를 재발급하여 연동을 해제할 수 있어요.</p>
          </div>
        </details>
        <details>
          <summary>Garmin 데이터는 어떻게 연동하나요?</summary>
          <div class="answer">
            <p>intervals.icu <span class="highlight">웹사이트</span>에서 직접 연동해야 합니다. (봇에서는 연동 불가)</p>
            <ol class="step-list">
              <li><a href="https://intervals.icu/settings" target="_blank">intervals.icu Settings</a> 접속</li>
              <li>왼쪽 메뉴에서 <span class="highlight">Connections</span> 선택</li>
              <li>Garmin Connect 클릭</li>
              <li>Garmin 계정으로 로그인하여 권한 허용</li>
            </ol>
            <p>연동 후 과거 데이터도 자동으로 가져옵니다.</p>
          </div>
        </details>
        <details>
          <summary>API 키는 어디서 찾나요?</summary>
          <div class="answer">
            <p>intervals.icu 웹사이트에서 확인할 수 있습니다.</p>
            <ol class="step-list">
              <li><a href="https://intervals.icu/settings" target="_blank">intervals.icu Settings</a> 접속</li>
              <li>왼쪽 메뉴에서 <span class="highlight">Developer Settings</span> 선택</li>
              <li>API Key 옆의 <span class="highlight">(view)</span> 클릭하여 키 확인</li>
              <li>키를 복사하여 <a class="inline-link" onclick="window.location.href='connect.html'">연동 페이지</a>에 붙여넣기</li>
            </ol>
          </div>
        </details>
      </div>
    </div>

    <!-- 3. 명령어 안내 -->
    <div class="category animate animate-d3">
      <div class="category-title"><span class="icon">🤖</span> 명령어 안내</div>
      <div class="faq-list">
        <details>
          <summary>어떤 명령어가 있나요?</summary>
          <div class="answer">
            <p>9가지 명령어를 사용할 수 있어요.</p>
            <ol class="step-list">
              <li><span class="highlight">/home</span> — 마이페이지 (미니앱)</li>
              <li><span class="highlight">/rec</span> — AI 훈련법 추천</li>
              <li><span class="highlight">/plan</span> — 이번 주 훈련 계획 + 퀘스트 생성</li>
              <li><span class="highlight">/weather</span> (/w) — 날씨·미세먼지 정보</li>
              <li><span class="highlight">/races</span> — 국내 마라톤 대회 일정 검색</li>
              <li><span class="highlight">/quest</span> (/q) — 퀘스트 보드</li>
              <li><span class="highlight">/profile</span> (/p) — 프로필 조회·수정</li>
              <li><span class="highlight">/feedback</span> (/fb) — 개발자에게 피드백 보내기</li>
              <li><span class="highlight">/help</span> (/h) — 도움말</li>
            </ol>
            <p>명령어 외에 자유롭게 메시지를 보내면 <span class="highlight">Q&A</span>로 답변해드려요.</p>
          </div>
        </details>
        <details>
          <summary>훈련법 추천은 어떻게 받나요?</summary>
          <div class="answer">
            <p><span class="highlight">/rec</span> 명령어를 입력하면 AI가 분석을 시작합니다.</p>
            <ol class="step-list">
              <li>러닝 프로필 (목표, 빈도, 우선순위 등)을 분석</li>
              <li>최근 러닝 기록 (페이스, 심박수, 거리 등)을 분석</li>
              <li>맞춤 훈련법을 추천하고 이유를 설명</li>
            </ol>
            <p><span class="highlight">8개 훈련법</span> 중에서 추천됩니다.</p>
            <div class="tag-list">
              <span class="tag">80/20 러닝</span>
              <span class="tag">잭 다니엘스</span>
              <span class="tag">MAF 저심박</span>
              <span class="tag">피치진저</span>
              <span class="tag">한슨</span>
              <span class="tag">갤러웨이</span>
              <span class="tag">할 히든</span>
              <span class="tag">리디어드</span>
            </div>
            <p>추천 결과에 "프로필에 반영하기" 버튼이 나타나면, 탭하여 바로 적용할 수 있어요. 훈련법을 꾸준히 수행하면 다음 단계로 진급합니다.</p>
          </div>
        </details>
        <details>
          <summary>훈련 계획은 어떻게 만드나요?</summary>
          <div class="answer">
            <p><span class="highlight">/plan</span> 명령어를 입력하면 AI가 이번 주 7일 훈련 계획을 만들어줍니다.</p>
            <ol class="step-list">
              <li>프로필(목표, 빈도, 훈련법)과 최근 러닝 기록을 분석</li>
              <li>요일별 훈련 종류, 거리, 페이스, 심박존을 자동 설정</li>
              <li>"수정하기" 버튼으로 세부 사항을 직접 편집 가능</li>
              <li>"새로 추천받기"로 새 계획을 다시 받을 수도 있어요</li>
            </ol>
            <p>지난주 계획이 있으면 그대로 복사하는 옵션도 제공됩니다.</p>
          </div>
        </details>
        <details>
          <summary>날씨·미세먼지 정보는 어떻게 보나요?</summary>
          <div class="answer">
            <p><span class="highlight">/weather</span> (또는 <span class="highlight">/w</span>)를 입력하면 러닝에 필요한 날씨 정보를 알려드려요.</p>
            <ol class="step-list">
              <li><span class="highlight">7일 예보</span> — 기온, 강수 확률, 풍속</li>
              <li><span class="highlight">미세먼지</span> — PM2.5, PM10 농도 및 등급</li>
              <li><span class="highlight">러닝 적합도</span> — 오늘 야외 러닝이 괜찮은지 판단</li>
              <li><span class="highlight">복장 팁</span> — 기온별 추천 러닝 복장</li>
              <li><span class="highlight">지역 검색</span> — <span class="highlight">/w 부산</span>, <span class="highlight">/w 도쿄</span>처럼 다른 지역도 확인 가능</li>
            </ol>
            <p>훈련 계획의 러닝 요일에 맞춰 하이라이트 표시됩니다. AI 사용 횟수에 포함되지 않아 자유롭게 확인할 수 있어요.</p>
          </div>
        </details>
        <details>
          <summary>대회 일정은 어떻게 검색하나요?</summary>
          <div class="answer">
            <p><span class="highlight">/races</span>를 입력하면 다가오는 국내 마라톤 대회를 확인할 수 있어요.</p>
            <ol class="step-list">
              <li><span class="highlight">/races</span> — 이번 달 전체 대회</li>
              <li><span class="highlight">/races 서울</span> — 지역별 검색</li>
              <li><span class="highlight">/races 하프</span> — 종목별 검색</li>
              <li><span class="highlight">/races 경기 10km</span> — 지역 + 종목 조합</li>
            </ol>
            <p>접수 상태(접수중/마감)도 함께 표시됩니다. AI 사용 횟수에 포함되지 않아요.</p>
          </div>
        </details>
        <details>
          <summary>어떤 질문을 할 수 있나요?</summary>
          <div class="answer">
            <p>자유 형식으로 무엇이든 물어보세요! 예를 들면:</p>
            <ol class="step-list">
              <li>"지난주 총 거리가 얼마야?"</li>
              <li>"최근 페이스 변화 추이 알려줘"</li>
              <li>"다음 하프마라톤 대비 훈련 계획 짜줘"</li>
              <li>"심박수가 너무 높은데 괜찮아?"</li>
            </ol>
            <p>러닝에 관한 질문이면 무엇이든 답변해드려요.</p>
          </div>
        </details>
      </div>
    </div>

    <!-- 4. 게이미피케이션 -->
    <div class="category animate animate-d4">
      <div class="category-title"><span class="icon">⚔️</span> 게이미피케이션</div>
      <div class="faq-list">
        <details>
          <summary>XP와 레벨은 뭔가요?</summary>
          <div class="answer">
            <p>러닝 활동으로 <span class="highlight">XP(경험치)</span>를 얻고, 쌓인 XP에 따라 레벨이 올라갑니다.</p>
            <p><span class="highlight">XP 획득 방법</span></p>
            <ol class="step-list">
              <li><span class="highlight">러닝 완료</span> — 거리·시간에 비례하여 XP 획득</li>
              <li><span class="highlight">퀘스트 완료</span> — 주간 퀘스트 달성 시 보너스 XP</li>
              <li><span class="highlight">마일스톤 달성</span> — 특별 배지와 함께 XP 획득</li>
              <li><span class="highlight">스트릭 유지</span> — 연속 주간 러닝 보상</li>
            </ol>
            <p>총 <span class="highlight">10단계 레벨</span>이 있으며, 레벨이 오를수록 더 도전적인 퀘스트가 열립니다.</p>
          </div>
        </details>
        <details>
          <summary>퀘스트는 어떻게 진행하나요?</summary>
          <div class="answer">
            <p><span class="highlight">/plan</span>으로 주간 계획을 생성하면 퀘스트가 자동으로 만들어집니다.</p>
            <p><span class="highlight">퀘스트 3종류</span></p>
            <ol class="step-list">
              <li><span class="highlight">코어</span> — 핵심 훈련 목표 (예: 주 3회 러닝)</li>
              <li><span class="highlight">메소드</span> — 특정 훈련법 실행 (예: 템포런 1회)</li>
              <li><span class="highlight">스트레치</span> — 도전 목표 (예: 주간 30km 달성)</li>
            </ol>
            <p>러닝을 완료하면 <span class="highlight">자동으로 진행률이 업데이트</span>됩니다. <span class="highlight">/quest</span>로 현재 진행 상황을 확인하세요.</p>
          </div>
        </details>
        <details>
          <summary>마일스톤은 뭔가요?</summary>
          <div class="answer">
            <p>특별한 달성 기준을 충족하면 <span class="highlight">배지</span>를 획득합니다. 총 <span class="highlight">19종</span>이 있어요.</p>
            <p><span class="highlight">5개 카테고리</span></p>
            <div class="tag-list">
              <span class="tag">거리 누적</span>
              <span class="tag">장거리 도전</span>
              <span class="tag">꾸준함</span>
              <span class="tag">속도</span>
              <span class="tag">체력</span>
            </div>
            <p>러닝 기록이 동기화될 때 자동으로 달성 여부를 체크합니다. 마이페이지에서 획득한 배지를 확인할 수 있어요.</p>
          </div>
        </details>
        <details>
          <summary>스트릭은 어떻게 유지하나요?</summary>
          <div class="answer">
            <p>한 주에 <span class="highlight">2회 이상</span> 러닝하면 1주 스트릭이 인정됩니다.</p>
            <p>매주 연속으로 조건을 충족하면 스트릭이 쌓이고, 한 주라도 빠지면 초기화됩니다. 스트릭이 길어질수록 더 많은 보너스 XP를 받아요.</p>
          </div>
        </details>
        <details>
          <summary>퀘스트 경로란?</summary>
          <div class="answer">
            <p>장기 성장 로드맵인 <span class="highlight">7단계 스테이지</span>입니다.</p>
            <ol class="step-list">
              <li>러닝 입문</li>
              <li>기초 체력</li>
              <li>5K 도전</li>
              <li>10K 도전</li>
              <li>하프 마라톤</li>
              <li>마라톤 준비</li>
              <li>풀 마라톤</li>
            </ol>
            <p>각 스테이지의 미션을 클리어하면 다음 단계로 진행됩니다. 마이페이지에서 현재 스테이지를 확인할 수 있어요.</p>
          </div>
        </details>
      </div>
    </div>

    <!-- 5. 미니앱 -->
    <div class="category animate animate-d5">
      <div class="category-title"><span class="icon">📱</span> 미니앱</div>
      <div class="faq-list">
        <details>
          <summary>미니앱은 어떻게 여나요?</summary>
          <div class="answer">
            <p><span class="highlight">/home</span> 명령어를 입력하면 미니앱이 열립니다.</p>
            <p><span class="highlight">4개 탭</span>으로 구성되어 있어요.</p>
            <div class="tag-list">
              <span class="tag">홈</span>
              <span class="tag">퀘스트</span>
              <span class="tag">기록</span>
              <span class="tag">설정</span>
            </div>
            <p>텔레그램 내에서 바로 열리며, 별도 앱 설치가 필요 없습니다.</p>
          </div>
        </details>
        <details>
          <summary>기록 탭에서 뭘 볼 수 있나요?</summary>
          <div class="answer">
            <p>러닝 기록을 한눈에 확인할 수 있습니다.</p>
            <ol class="step-list">
              <li><span class="highlight">주간 통계</span> — 이번 주 거리, 시간, 횟수</li>
              <li><span class="highlight">월간 통계</span> — 이번 달 누적 기록</li>
              <li><span class="highlight">전체 통계</span> — 총 누적 거리, 러닝 횟수</li>
              <li><span class="highlight">개인 최고 기록</span> — 최장 거리, 최고 페이스 등</li>
            </ol>
          </div>
        </details>
      </div>
    </div>

    <!-- 6. 기타 -->
    <div class="category animate animate-d6">
      <div class="category-title"><span class="icon">💡</span> 기타</div>
      <div class="faq-list">
        <details>
          <summary>AI 사용 제한이 있나요?</summary>
          <div class="answer">
            <p>AI 기능은 <span class="highlight">하루 5회</span>까지 사용할 수 있습니다.</p>
            <ol class="step-list">
              <li>AI 차감 대상: <span class="highlight">/rec</span>, <span class="highlight">/plan</span>, 자유 질문(Q&A)</li>
              <li>AI 미차감: <span class="highlight">/weather</span>, <span class="highlight">/home</span>, <span class="highlight">/quest</span>, <span class="highlight">/profile</span>, <span class="highlight">/help</span></li>
            </ol>
            <p>매일 <span class="highlight">자정(KST)</span>에 횟수가 초기화됩니다.</p>
          </div>
        </details>
        <details>
          <summary>데이터는 안전한가요?</summary>
          <div class="answer">
            <p><span class="highlight">네, 안전합니다.</span></p>
            <p>Running Coach는 12만명이 사용하는 intervals.icu의 API 키만 저장하며, 러닝 데이터는 분석 시에만 조회합니다. 데이터를 수정하거나 제3자에게 공유하지 않습니다.</p>
            <p>API 키는 언제든지 intervals.icu에서 재발급하여 기존 키를 무효화할 수 있습니다.</p>
          </div>
        </details>
      </div>
    </div>
  </div>

  <!-- Fixed CTA -->
  <div class="cta animate animate-d6">
    <div class="cta-inner">
      <button class="btn-cta" onclick="closeFaq()">닫기</button>
    </div>
  </div>

  <script>
    const tg = window.Telegram?.WebApp;
    if (tg) {
      tg.ready();
      tg.expand();
    }

    function closeFaq() {
      if (tg) {
        tg.close();
      } else {
        window.history.back();
      }
    }
  </script>
</body>
</html>
